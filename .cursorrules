# CreatorSync Cursor Rules

## Project Context

### CreatorSync Application Overview
CreatorSync is a multi-platform social media publishing application that allows users to create, preview, and publish content across multiple social media platforms from a single interface.

### Architecture
- **Frontend**: React.js with Clerk authentication
- **Backend**: Node.js with Express.js
- **Database**: MongoDB Atlas
- **AI Services**: Python FastAPI backend for caption/hashtag generation
- **Authentication**: Clerk for user management
- **File Storage**: AWS S3 for media uploads

### Key Components
- **Platform Publisher**: Multi-platform content creation and publishing
- **OAuth Integration**: Twitter and LinkedIn authentication
- **Content Generation**: AI-powered captions and hashtags
- **Media Management**: Image/video upload and processing
- **Scheduling**: Post scheduling functionality (planned)

### Current Status
- **Facebook**: âœ… Fully working - OAuth, publishing, page tokens
- **Instagram**: âœ… Fully working - OAuth, publishing, Business Account linking
- **LinkedIn**: âœ… Fully working - OAuth, publishing, URL generation
- **Twitter**: âœ… Fully working - OAuth, publishing
- **YouTube**: âœ… Fully working - OAuth, publishing
- **TikTok**: ğŸ”§ In development - OAuth working, publishing needs testing

### File Structure
```
creatorsync/
â”œâ”€â”€ back/
â”‚   â””â”€â”€ backend-node/
â”‚       â”œâ”€â”€ routes/
â”‚       â”‚   â”œâ”€â”€ linkedinAuth.js     # LinkedIn OAuth (WORKING - DON'T TOUCH)
â”‚       â”‚   â”œâ”€â”€ twitterAuth.js      # Twitter OAuth (SAFE TO MODIFY)
â”‚       â”‚   â””â”€â”€ publisher.js        # Publishing endpoints
â”‚       â”œâ”€â”€ services/
â”‚       â”‚   â”œâ”€â”€ linkedinUserService.js  # LinkedIn publishing (WORKING - DON'T TOUCH)
â”‚       â”‚   â”œâ”€â”€ twitterService.js       # Twitter publishing (SAFE TO MODIFY)
â”‚       â”‚   â””â”€â”€ platformPublisher.js    # Multi-platform publisher
â”‚       â””â”€â”€ models/
â”‚           â”œâ”€â”€ LinkedInToken.js    # LinkedIn tokens (WORKING - DON'T TOUCH)
â”‚           â””â”€â”€ TwitterToken.js     # Twitter tokens (SAFE TO MODIFY)
â”œâ”€â”€ frontend/
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ components/
â”‚       â”‚   â””â”€â”€ PlatformPreviewPanel.jsx  # Main publishing UI
â”‚       â””â”€â”€ api/
â”‚           â””â”€â”€ index.js            # API integration
â””â”€â”€ back/backend-python/            # AI services for captions/hashtags
```

### Development Workflow
1. **Feature Branch**: Always work on `feature/twitter-posting` branch
2. **Platform Focus**: Work on one platform at a time
3. **Testing**: Test thoroughly before committing
4. **Merge**: Merge to main only when stable

## ğŸš¨ CRITICAL PLATFORM PROTECTION RULES ğŸš¨

### âš ï¸ ABSOLUTE PROHIBITION - NO MODIFICATIONS WITHOUT EXPLICIT PERMISSION âš ï¸

**ALL WORKING SOCIAL MEDIA PLATFORMS ARE NOW OFF-LIMITS:**

**ğŸ”’ FACEBOOK PLATFORM - ABSOLUTELY FORBIDDEN:**
- âŒ DO NOT modify `back/backend-node/routes/facebookAuth.js`
- âŒ DO NOT modify `back/backend-node/services/facebookService.js`
- âŒ DO NOT modify `back/backend-node/models/FacebookToken.js`
- âŒ DO NOT modify Facebook-related parts of `platformPublisher.js`
- âŒ Facebook is working perfectly - NEVER TOUCH IT

**ğŸ”’ INSTAGRAM PLATFORM - ABSOLUTELY FORBIDDEN:**
- âŒ DO NOT modify `back/backend-node/routes/instagramAuth.js`
- âŒ DO NOT modify `back/backend-node/services/instagramService.js`
- âŒ DO NOT modify `back/backend-node/models/InstagramToken.js`
- âŒ DO NOT modify Instagram-related parts of `platformPublisher.js`
- âŒ Instagram is working perfectly - NEVER TOUCH IT

**ğŸ”’ LINKEDIN PLATFORM - ABSOLUTELY FORBIDDEN:**
- âŒ DO NOT modify `back/backend-node/routes/linkedinAuth.js`
- âŒ DO NOT modify `back/backend-node/services/linkedinUserService.js`
- âŒ DO NOT modify `back/backend-node/models/LinkedInToken.js`
- âŒ DO NOT modify LinkedIn-related parts of `platformPublisher.js`
- âŒ LinkedIn is working perfectly - NEVER TOUCH IT

**ğŸ”’ TWITTER PLATFORM - ABSOLUTELY FORBIDDEN:**
- âŒ DO NOT modify `back/backend-node/routes/twitterAuth.js`
- âŒ DO NOT modify `back/backend-node/services/twitterService.js`
- âŒ DO NOT modify `back/backend-node/models/TwitterToken.js`
- âŒ DO NOT modify Twitter-related parts of `platformPublisher.js`
- âŒ Twitter is working perfectly - NEVER TOUCH IT

**ğŸ”’ YOUTUBE PLATFORM - ABSOLUTELY FORBIDDEN:**
- âŒ DO NOT modify `back/backend-node/routes/googleAuth.js`
- âŒ DO NOT modify `back/backend-node/services/youtubeService.js`
- âŒ DO NOT modify `back/backend-node/models/YouTubeToken.js`
- âŒ DO NOT modify YouTube-related parts of `platformPublisher.js`
- âŒ YouTube is working perfectly - NEVER TOUCH IT

### ğŸš¨ MANDATORY PERMISSION REQUIREMENT ğŸš¨

**BEFORE MODIFYING ANY SOCIAL MEDIA PLATFORM FILES:**
1. **MUST ASK USER FOR EXPLICIT PERMISSION FIRST**
2. **EXPLAIN EXACTLY WHAT YOU WANT TO CHANGE AND WHY**
3. **WAIT FOR USER APPROVAL BEFORE MAKING ANY CHANGES**
4. **IF USER SAYS NO, DO NOT PROCEED**

**VIOLATION OF THESE RULES WILL RESULT IN IMMEDIATE STOPPAGE**

**Frontend Components - Multi-platform Safe:**
- Safe to modify `frontend/src/components/PlatformPreviewPanel.jsx` (UI improvements)
- Safe to modify `frontend/src/api/index.js` (API integration)
- Safe to modify other frontend components

### General Rules

1. **Always check which platform you're working on before making changes**
2. **If a platform is working, do not touch its files**
3. **Test thoroughly before committing changes**
4. **Focus on one platform at a time**
5. **Document any changes made**

### File Modification Guidelines

**Before modifying any file:**
1. Identify which platform the file belongs to
2. Check if that platform is currently working
3. If working, DO NOT modify
4. If not working or needs improvement, proceed carefully

**When working on Twitter:**
- Focus only on Twitter-related files
- Do not touch LinkedIn files
- Test Twitter functionality thoroughly

**When working on LinkedIn:**
- DO NOT touch LinkedIn files (they work perfectly)
- Focus on other platforms or general improvements

### Testing Requirements

1. **Always test the platform you're modifying**
2. **Verify other platforms still work after changes**
3. **Run the app and test publishing functionality**
4. **Check for any breaking changes**

### Commit Guidelines

1. **Clear commit messages indicating which platform was modified**
2. **Test before committing**
3. **Document any API changes**
4. **Update documentation if needed**

### Deployment and Infrastructure Rules

**CRITICAL: NO HARDCODED VALUES IN TASK DEFINITIONS**
- NEVER add hardcoded image URIs, memory values, or environment variables to task-definition.json
- The deployment script generates task definitions dynamically - do not override with static values
- If task-definition.json exists with hardcoded values, DELETE IT immediately
- All task definition values must be dynamic and generated by the deployment script
- Memory allocation: Use 4096 MB (4GB) for the unified container
- Environment variables: AI_ROOT_PATH=/ai must be included in deployment script
