{
  "family": "repostly-api",
  "networkMode": "awsvpc",
  "requiresCompatibilities": ["FARGATE"],
  "cpu": "256",
  "memory": "512",
  "executionRoleArn": "arn:aws:iam::657053005765:role/ecsTaskExecutionRole",
  "containerDefinitions": [
    {
      "name": "repostly-api",
      "image": "657053005765.dkr.ecr.us-west-2.amazonaws.com/repostly-api:latest",
      "essential": true,
      "portMappings": [ { "containerPort": 4001, "protocol": "tcp" } ],
      "secrets": [
        { "name": "MONGODB_URI", "valueFrom": "/repostly/api/MONGODB_URI" },
        { "name": "CLERK_SECRET_KEY", "valueFrom": "/repostly/api/CLERK_SECRET_KEY" },
        { "name": "CLERK_ISSUER_URL", "valueFrom": "/repostly/api/CLERK_ISSUER_URL" },
        { "name": "STRIPE_SECRET_KEY", "valueFrom": "/repostly/api/STRIPE_SECRET_KEY" },
        { "name": "STRIPE_STARTER_MONTHLY_PRICE_ID", "valueFrom": "/repostly/api/STRIPE_STARTER_MONTHLY_PRICE_ID" },
        { "name": "STRIPE_STARTER_YEARLY_PRICE_ID", "valueFrom": "/repostly/api/STRIPE_STARTER_YEARLY_PRICE_ID" },
        { "name": "STRIPE_CREATOR_MONTHLY_PRICE_ID", "valueFrom": "/repostly/api/STRIPE_CREATOR_MONTHLY_PRICE_ID" },
        { "name": "STRIPE_CREATOR_YEARLY_PRICE_ID", "valueFrom": "/repostly/api/STRIPE_CREATOR_YEARLY_PRICE_ID" },
        { "name": "STRIPE_PRO_MONTHLY_PRICE_ID", "valueFrom": "/repostly/api/STRIPE_PRO_MONTHLY_PRICE_ID" },
        { "name": "STRIPE_PRO_YEARLY_PRICE_ID", "valueFrom": "/repostly/api/STRIPE_PRO_YEARLY_PRICE_ID" },
        { "name": "FRONTEND_URL", "valueFrom": "/repostly/api/FRONTEND_URL" },
        { "name": "APP_URL", "valueFrom": "/repostly/api/APP_URL" },
        { "name": "FACEBOOK_APP_ID", "valueFrom": "/repostly/api/FACEBOOK_APP_ID" },
        { "name": "FACEBOOK_APP_SECRET", "valueFrom": "/repostly/api/FACEBOOK_APP_SECRET" },
        { "name": "FACEBOOK_REDIRECT_URI", "valueFrom": "/repostly/api/FACEBOOK_REDIRECT_URI" }
      ],
      "logConfiguration": {
        "logDriver": "awslogs",
        "options": {
          "awslogs-group": "/ecs/repostly-api",
          "awslogs-region": "us-west-2",
          "awslogs-stream-prefix": "ecs"
        }
      }
    }
  ]
}

